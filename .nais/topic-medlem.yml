apiVersion: kafka.nais.io/v1
kind: Topic
metadata:
  name: medlem.v1
  namespace: aap
  labels:
    team: aap
  annotations:
    # Revurder om topic skal slettes sammen med kubernetesressursen n√•r topic opprettes i prod
    kafka.nais.io/removeDataWhenResourceIsDeleted: "true"
    githubUrl: "https://github.com/navikt/aap-vedtak"
spec:
  pool: {{kafka-pool}}
  config:
    cleanupPolicy: compact,delete
    partitions: 2
    retentionHours: 1
  acl:
    - team: medlemskap
      application: medlemskap-aap-listener
      access: readwrite
    - team: aap
      application: vedtak
      access: readwrite
    - team: aap
      application: aap-kafka-manager
      access: read
